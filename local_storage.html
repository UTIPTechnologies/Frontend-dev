<!doctype HTML>
<html>
<head>
<meta charset="UTF-8"> 
 <script>
 function ready() {
	var ielm = document.getElementById('t1');
	var aelm = document.getElementById('a1');
	var celm = document.getElementById('c1');
	var selm = document.getElementById('s1');
	selm.onclick = function(){
		localStorage.setItem("ttb3r`:mess", ielm.value);
		var itxt = ielm.value + "\n";
		aelm.value += itxt;
		ielm.value = '';
	};
 
	celm.onclick = function(){
		aelm.value = '';
	};
	  
	function onStorage() {
		var stit = localStorage.getItem("ttb3r`:mess");
		var oxt = stit + "\n";
		if(stit !== null) aelm.value += oxt;
	} 
	
	window.addEventListener('storage', onStorage, false);
	
 }
   document.addEventListener("DOMContentLoaded", ready, false);
 
 </script>
 </head>
<body>
<textarea id="a1" style="width:300px;height:150px;" readonly></textarea>
<br>
<br>
<input type="text" id="t1"  autofocus>
<input type="submit" id="s1" name="send"> <input type="button" id="c1" value="очистить">
</body>
</html>